{% extends 'index.html' %}
{% block body %}
<div class="block">

    <h2>Bienvenue sur la page des Journaux</h2>

    <form method="POST" action="{{ url_for('main.journaux') }}" class="form-modify">
        <div class="form-group">
            <label for="id_serv_select">Serveurs (Ctrl + clic pour sélectionner plusieurs)</label>
            <select id="id_serv_select" name="id_serv_select" multiple size="5" required>
                {% for server in servers %}
                    <option value="{{ server.id }}">{{ server.name }} - {{ server.ip }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="nb_lignes">Nombres de lignes (de base à 100)</label>
            <input type="text" id="nb_lignes" name="nb_lignes" placeholder="180">
        </div>

        <button type="submit" class="btn btn-primary">Afficher les logs</button>
    </form>

    {% for logs in logs_servers %}
        <div class="logs-box">
            <div class="logs-header">
                <h3>Logs du serveur : {{ logs[0] }}</h3>
            </div>
            <div class="logs-content">
                {% for log in logs[1] %}
                    <div class="log-line">{{ log }}</div>
                {% endfor %}
            </div>
        </div>
    {% endfor %}

</div>
{% endblock %}